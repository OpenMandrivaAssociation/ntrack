#
#  Copyright (C) 2009,2010  Alexander Sack <asac@jwsdot.com>
#
#  This file is part of:
#      ntrack - Network Status Tracking for Desktop Applications
#               http://launchpad.net/ntrack
#
#   ntrack is free software: you can redistribute it and/or modify
#   it under the terms of the GNU Lesser General Public License as
#   published by the Free Software Foundation, either version 3 of
#   the License, or (at your option) any later version.
#
#   ntrack is distributed in the hope that it will be useful,
#   but WITHOUT ANY WARRANTY; without even the implied warranty of
#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#   GNU Lesser General Public License for more details.
#
#   You should have received a copy of the GNU Lesser General Public
#   License along with ntrack.  If not, see <http://www.gnu.org/licenses/>.
#
SUBDIRS = test

NTRACK_LT_VERSION = 3:3:3

ntrackmodulesdir = $(pkglibdir)/modules/

AM_CFLAGS = \
	-Wall \
	-Werror \
	-pedantic

AM_LDFLAGS =

lib_LTLIBRARIES = libntrack.la

pkgcommonincludedir = $(pkgincludedir)/common/

libntrack_la_SOURCES = \
	ntrackmacros.h \
	ntrackbase.h \
	ntrack.h ntrack.c \
	ntrackcompare.c ntrackcompare.h \
	ntracklist.c ntracklist.h \
	ntrackidpool.c ntrackidpool.h \
	ntrackmonitor.c ntrackmonitor.h \
	ntrackarch.h ntrackarchapi.h

libntrack_la_CFLAGS = \
	$(AM_CFLAGS) \
	-DMODULES_DIR=\"$(ntrackmodulesdir)\" \
	$(maintmode_CFLAGS)

libntrack_la_LIBADD = \
	-ldl

libntrack_la_LDFLAGS = \
	$(AM_LDFLAGS) \
	-export-symbols $(srcdir)/ntrack.symbols \
	-no-undefined \
	-version-info $(NTRACK_LT_VERSION)

EXTRA_DIST = \
	libntrack.pc.in \
	ntrack.symbols

pkgcommoninclude_HEADERS = \
	ntrack.h \
	ntrackbase.h \
	ntrackcompare.h \
	ntrackidpool.h \
	ntracklist.h \
	ntrackmacros.h \
	ntrackmonitor.h \
	ntrackutil.h

noinst_HEADERS = \
	ntrackarch.h \
	ntrackarchapi.h

pkgconfigdir = $(libdir)/pkgconfig
pkgconfig_DATA = \
	libntrack.pc

